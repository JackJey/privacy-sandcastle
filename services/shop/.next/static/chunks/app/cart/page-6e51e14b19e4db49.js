(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{7508:function(e,t,n){Promise.resolve().then(n.bind(n,9907))},9907:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ep}});var r=n(1844),i=n(1664),a=n.n(i),l=n(5675),s=n.n(l),o=n(7037);function c(e){let{order:t,mutate:n}=e,{item:i,size:a,quantity:l}=t,c=async e=>{let t=e.target.value,r=new URLSearchParams;r.append("size",a),r.append("quantity",t),await fetch("/api/cart/".concat(i.id),{method:"post",body:r}),n()},u=async e=>{e.preventDefault();let r=new URL("/api/cart/".concat(t.item.id),location.href);r.searchParams.append("size",a),await fetch(r,{method:"delete"}),n()};return(0,r.jsxs)("li",{className:"grid grid-cols-12 lg:gap-8 gap-4 border",children:[(0,r.jsxs)("div",{className:"lg:col-span-4 col-span-6 flex flex-col items-center py-4 gap-4 bg-slate-200",children:[(0,r.jsx)(s(),{src:"/image/svg/emoji_u".concat(i.id,".svg"),width:100,height:100,alt:i.name,priority:!0}),(0,r.jsx)("h2",{className:"font-bold text-xl text-center text-slate-700 pb-4",children:i.name})]}),(0,r.jsxs)("div",{className:"lg:col-span-8 col-span-6 flex flex-col justify-center gap-2 text-lg text-slate-700 relative",children:[(0,r.jsxs)("dl",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("dt",{className:"w-16 font-bold",children:"price:"}),(0,r.jsxs)("dd",{children:["$",i.price,".00"]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("dt",{className:"w-16 font-bold",children:"cat:"}),(0,r.jsx)("dd",{children:(0,o.Vq)(i.category)})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("dt",{className:"w-16 font-bold",children:"size:"}),(0,r.jsx)("dd",{children:a})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("dt",{className:"w-16 font-bold",children:(0,r.jsx)("label",{htmlFor:"".concat(i.id,":").concat(a),children:"qty:"})}),(0,r.jsx)("dd",{children:(0,r.jsxs)("select",{id:"".concat(i.id,":").concat(a),name:"".concat(i.id,":").concat(a),defaultValue:l,onChange:c,className:"text-slate-800",children:[(0,r.jsx)("option",{value:"1",children:"1"}),(0,r.jsx)("option",{value:"2",children:"2"}),(0,r.jsx)("option",{value:"3",children:"3"}),(0,r.jsx)("option",{value:"4",children:"4"}),(0,r.jsx)("option",{value:"5",children:"5"})]})})]})]}),(0,r.jsx)("div",{className:"absolute top-0 right-0",children:(0,r.jsx)("button",{type:"button",className:"flex justify-center items-center text-xl w-8 h-8",onClick:u,children:"✖️"})})]})]})}var u=n(5784),d=n(1688);let f=new WeakMap,h={},p=()=>{},x=p(),g=Object,m=e=>e===x,v=e=>"function"==typeof e,y=(e,t)=>({...e,...t}),w="undefined",b=typeof window!=w,j=typeof document!=w,_=()=>b&&typeof window.requestAnimationFrame!=w,E=(e,t)=>{let n=f.get(e);return[()=>e.get(t)||h,r=>{let i=e.get(t);n[5](t,y(i,r),i||h)},n[6]]},N=new WeakMap,S=0,O=e=>{let t,n;let r=typeof e,i=e&&e.constructor,a=i==Date;if(g(e)!==e||a||i==RegExp)t=a?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=N.get(e))return t;if(t=++S+"~",N.set(e,t),i==Array){for(n=0,t="@";n<e.length;n++)t+=O(e[n])+",";N.set(e,t)}if(i==g){t="#";let l=g.keys(e).sort();for(;!m(n=l.pop());)m(e[n])||(t+=n+":"+O(e[n])+",");N.set(e,t)}}return t},T=!0,[R,k]=b&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[p,p],C=()=>{let e=j&&document.visibilityState;return m(e)||"hidden"!==e},L=e=>(j&&document.addEventListener("visibilitychange",e),R("focus",e),()=>{j&&document.removeEventListener("visibilitychange",e),k("focus",e)}),V=e=>{let t=()=>{T=!0,e()},n=()=>{T=!1};return R("online",t),R("offline",n),()=>{k("online",t),k("offline",n)}},D={initFocus:L,initReconnect:V},P=!u.useId,I=!b||"Deno"in window,U=e=>_()?window.requestAnimationFrame(e):setTimeout(e,1),A=I?u.useEffect:u.useLayoutEffect,F="undefined"!=typeof navigator&&navigator.connection,M=!I&&F&&(["slow-2g","2g"].includes(F.effectiveType)||F.saveData),$=e=>{if(v(e))try{e=e()}catch(t){e=""}let n=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?O(e):"",n]},q=0,W=()=>++q;var z={__proto__:null,FOCUS_EVENT:0,RECONNECT_EVENT:1,MUTATE_EVENT:2};async function J(...e){let[t,n,r,i]=e,a=y({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),l=a.populateCache,s=a.rollbackOnError,o=a.optimisticData,c=!1!==a.revalidate,u=e=>"function"==typeof s?s(e):!1!==s,d=a.throwOnError;if(v(n)){let h=[],p=t.keys();for(let g=p.next();!g.done;g=p.next()){let w=g.value;!w.startsWith("$inf$")&&n(t.get(w)._k)&&h.push(w)}return Promise.all(h.map(b))}return b(n);async function b(n){let i;let[a]=$(n);if(!a)return;let[s,h]=E(t,a),[p,g,y]=f.get(t),w=p[a],b=()=>c&&(delete y[a],w&&w[0])?w[0](2).then(()=>s().data):s().data;if(e.length<3)return b();let j=r,_=W();g[a]=[_,0];let N=!m(o),S=s(),O=S.data,T=S._c,R=m(T)?O:T;if(N&&h({data:o=v(o)?o(R):o,_c:R}),v(j))try{j=j(R)}catch(k){i=k}if(j&&v(j.then)){if(j=await j.catch(e=>{i=e}),_!==g[a][0]){if(i)throw i;return j}i&&N&&u(i)&&(l=!0,j=R,h({data:j,_c:x}))}l&&!i&&(v(l)&&(j=l(j,R)),h({data:j,_c:x})),g[a][1]=W();let C=await b();if(h({_c:x}),i){if(d)throw i;return}return l?C:j}}let B=(e,t)=>{for(let n in e)e[n][0]&&e[n][0](t)},H=(e,t)=>{if(!f.has(e)){let n=y(D,t),r={},i=J.bind(x,e),a=p,l={},s=(e,t)=>{let n=l[e]||[];return l[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},o=(t,n,r)=>{e.set(t,n);let i=l[t];if(i)for(let a=i.length;a--;)i[a](r,n)},c=()=>{if(!f.has(e)&&(f.set(e,[r,{},{},{},i,o,s]),!I)){let t=n.initFocus(setTimeout.bind(x,B.bind(x,r,0))),l=n.initReconnect(setTimeout.bind(x,B.bind(x,r,1)));a=()=>{t&&t(),l&&l(),f.delete(e)}}};return c(),[e,i,c,a]}return[e,f.get(e)[4]]},K=(e,t,n,r,i)=>{let a=n.errorRetryCount,l=i.retryCount,s=~~((Math.random()+.5)*(1<<(l<8?l:8)))*n.errorRetryInterval;(m(a)||!(l>a))&&setTimeout(r,s,i)},X=(e,t)=>O(e)==O(t),[Y,G]=H(new Map),Q=y({onLoadingSlow:p,onSuccess:p,onError:p,onErrorRetry:K,onDiscarded:p,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:M?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:M?5e3:3e3,compare:X,isPaused:()=>!1,cache:Y,mutate:G,fallback:{}},{isOnline:()=>T,isVisible:C}),Z=(e,t)=>{let n=y(e,t);if(t){let{use:r,fallback:i}=e,{use:a,fallback:l}=t;r&&a&&(n.use=r.concat(a)),i&&l&&(n.fallback=y(i,l))}return n},ee=(0,u.createContext)({}),et=e=>{let{value:t}=e,n=(0,u.useContext)(ee),r=v(t),i=(0,u.useMemo)(()=>r?t(n):t,[r,n,t]),a=(0,u.useMemo)(()=>r?i:Z(n,i),[r,n,i]),l=i&&i.provider,[s]=(0,u.useState)(()=>l?H(l(a.cache||Y),i):x);return s&&(a.cache=s[0],a.mutate=s[1]),A(()=>{if(s)return s[2]&&s[2](),s[3]},[]),(0,u.createElement)(ee.Provider,y(e,{value:a}))},en=b&&window.__SWR_DEVTOOLS_USE__,er=en?window.__SWR_DEVTOOLS_USE__:[],ei=e=>v(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],ea=()=>y(Q,(0,u.useContext)(ee)),el=e=>(t,n,r)=>{let i=n&&((...e)=>{let r=$(t)[0],[,,,i]=f.get(Y),a=i[r];return a?(delete i[r],a):n(...e)});return e(t,i,r)},es=er.concat(el),eo=(e,t,n)=>{let r=t[e]||(t[e]=[]);return r.push(n),()=>{let e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}};en&&(window.__SWR_DEVTOOLS_REACT__=u);let ec={dedupe:!0},eu=(e,t,n)=>{let{cache:r,compare:i,suspense:a,fallbackData:l,revalidateOnMount:s,refreshInterval:o,refreshWhenHidden:c,refreshWhenOffline:h,keepPreviousData:p}=n,[g,w,b]=f.get(r),[j,_]=$(e),N=(0,u.useRef)(!1),S=(0,u.useRef)(!1),O=(0,u.useRef)(j),T=(0,u.useRef)(t),R=(0,u.useRef)(n),k=()=>R.current,C=()=>k().isVisible()&&k().isOnline(),[L,V,D]=E(r,j),F=(0,u.useRef)({}).current,M=m(l)?n.fallback[j]:l,q=(e,t)=>{let n=!0;for(let r in F){let a=r;i(t[a],e[a])||"data"===a&&m(e[a])&&i(t[a],Z)||(n=!1)}return n},B=(0,u.useMemo)(()=>{let e=!!j&&!!t&&(m(s)?!k().isPaused()&&!a:s),n=()=>{let t=L(),n=y(t);return(delete n._k,e)?{isValidating:!0,isLoading:!0,...n}:n},r=n();return()=>{let e=n();return q(e,r)?r:r=e}},[r,j]),H=(0,d.useSyncExternalStore)((0,u.useCallback)(e=>D(j,(t,n)=>{q(t,n)||e()}),[r,j]),B,B),K=!N.current,X=H.data,Y=m(X)?M:X,G=H.error,Q=(0,u.useRef)(Y),Z=p?m(X)?Q.current:X:Y,ee=K&&!m(s)?s:!k().isPaused()&&(a?!m(Y)&&n.revalidateIfStale:m(Y)||n.revalidateIfStale),et=!!(j&&t&&K&&ee),en=m(H.isValidating)?et:H.isValidating,er=m(H.isLoading)?et:H.isLoading,ei=(0,u.useCallback)(async e=>{let t,r;let a=T.current;if(!j||!a||S.current||k().isPaused())return!1;let l=!0,s=e||{},o=!b[j]||!s.dedupe,c=()=>P?!S.current&&j===O.current&&N.current:j===O.current,u={isValidating:!1,isLoading:!1},d=()=>{V(u)},f=()=>{let e=b[j];e&&e[1]===r&&delete b[j]},h={isValidating:!0};m(L().data)&&(h.isLoading=!0);try{if(o&&(V(h),n.loadingTimeout&&m(L().data)&&setTimeout(()=>{l&&c()&&k().onLoadingSlow(j,n)},n.loadingTimeout),b[j]=[a(_),W()]),[t,r]=b[j],t=await t,o&&setTimeout(f,n.dedupingInterval),!b[j]||b[j][1]!==r)return o&&c()&&k().onDiscarded(j),!1;u.error=x;let p=w[j];if(!m(p)&&(r<=p[0]||r<=p[1]||0===p[1]))return d(),o&&c()&&k().onDiscarded(j),!1;let g=L().data;u.data=i(g,t)?g:t,o&&c()&&k().onSuccess(t,j,n)}catch(R){f();let y=k(),{shouldRetryOnError:E}=y;!y.isPaused()&&(u.error=R,o&&c()&&(y.onError(R,j,y),(!0===E||v(E)&&E(R))&&C()&&y.onErrorRetry(R,j,y,ei,{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return l=!1,d(),!0},[j,r]),ea=(0,u.useCallback)((...e)=>J(r,O.current,...e),[]);if(A(()=>{T.current=t,R.current=n,m(X)||(Q.current=X)}),A(()=>{if(!j)return;let e=ei.bind(x,ec),t=0,n=n=>{if(n==z.FOCUS_EVENT){let r=Date.now();k().revalidateOnFocus&&r>t&&C()&&(t=r+k().focusThrottleInterval,e())}else if(n==z.RECONNECT_EVENT)k().revalidateOnReconnect&&C()&&e();else if(n==z.MUTATE_EVENT)return ei()},r=eo(j,g,n);return S.current=!1,O.current=j,N.current=!0,V({_k:_}),ee&&(m(Y)||I?e():U(e)),()=>{S.current=!0,r()}},[j]),A(()=>{let e;function t(){let t=v(o)?o(Y):o;t&&-1!==e&&(e=setTimeout(n,t))}function n(){!L().error&&(c||k().isVisible())&&(h||k().isOnline())?ei(ec).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[o,c,h,j]),(0,u.useDebugValue)(Z),a&&m(Y)&&j){if(!P&&I)throw Error("Fallback data is required when using suspense in SSR.");throw T.current=t,R.current=n,S.current=!1,m(G)?ei(ec):G}return{mutate:ea,get data(){return F.data=!0,Z},get error(){return F.error=!0,G},get isValidating(){return F.isValidating=!0,en},get isLoading(){return F.isLoading=!0,er}}};g.defineProperty(et,"defaultValue",{value:Q});var ed=function(...e){let t=ea(),[n,r,i]=ei(e),a=Z(t,i),l=eu,{use:s}=a,o=(s||[]).concat(es);for(let c=o.length;c--;)l=o[c](l);return l(n,r||a.fetcher||null,a)};let ef=e=>fetch(e).then(e=>e.json()),eh=e=>{let{data:t,mutate:n}=ed("/api/cart",ef,{fallbackData:e});return{cart:t||[],mutate:n}};function ep(e){let{cart:t}=e,{cart:n,mutate:i}=eh(t),l=n.reduce((e,t)=>{let{item:n,quantity:r}=t;return e+n.price*r},0),s=0===n.length;return(0,r.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,r.jsxs)("form",{className:"flex flex-col gap-6",method:"post",action:"/checkout",children:[(0,r.jsx)("ul",{className:"flex flex-col gap-6",children:n.map(e=>{let t="".concat(e.item.id,":").concat(e.size);return(0,r.jsx)(c,{order:e,mutate:i},t)})}),(0,r.jsxs)("dl",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("dt",{className:"font-bold",children:"Subtotal:"}),(0,r.jsxs)("dd",{children:["$",l,".00"]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("dt",{className:"font-bold",children:"Shipping:"}),(0,r.jsxs)("dd",{children:["$",40,".00"]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("dt",{className:"font-bold",children:"Total:"}),(0,r.jsxs)("dd",{children:["$",l+40,".00"]})]})]}),(0,r.jsx)("section",{className:"flex justify-center",children:(0,r.jsx)("button",{type:"submit",disabled:s,className:"w-60 border border-slate-600 text-slate-600 enabled:hover:bg-slate-400 enabled:hover:text-white disabled:opacity-40",children:"CHECKOUT"})})]}),(0,r.jsx)("footer",{className:"border-t-2 py-4",children:(0,r.jsx)(a(),{href:"/",className:"underline before:content-['<<']",children:"continue shopping"})})]})}},7037:function(e,t,n){"use strict";n.d(t,{Vq:function(){return i},lX:function(){return a}});let r=["sale","luxury","sports"];function i(e){return r.at(e)||"N/A"}function a(e){return(Number(e)-20)*10}},9803:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5784),i=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:l.current}}t.jsx=o,t.jsxs=o},1844:function(e,t,n){"use strict";e.exports=n(9803)},5675:function(e,t,n){e.exports=n(30)},1664:function(e,t,n){e.exports=n(4090)},3250:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5784),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,l=r.useEffect,s=r.useLayoutEffect,o=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s(function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})},[e,n,t]),l(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),o(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},1688:function(e,t,n){"use strict";e.exports=n(3250)},2431:function(){}},function(e){e.O(0,[90,30,17,744],function(){return e(e.s=7508)}),_N_E=e.O()}]);